

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>A brief introduction to HADDOCK3 &mdash; haddock3 3.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="INSTALL.html" />
    <link rel="prev" title="Welcome to HADDOCK3 Documentation!" href="index.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="index.html">
                haddock3
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>A brief introduction to HADDOCK3</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/intro.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">A brief introduction to HADDOCK3</a></li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#clone-this-repository">1. Clone this repository:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#create-a-virtual-environment-with-python-3-9-and-install-dependencies">2 Create a virtual environment with Python 3.9+ and install dependencies:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#install-the-haddock3-package-and-command-line-clients">3. Install the HADDOCK3 package and command line clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#make-a-cns-binary-shortcut-to-the-expected-path">4. Make a CNS binary shortcut to the expected path:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#keep-your-installation-up-to-date">5. Keep your installation up to date</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#optional-install-mpi-libraries-if-you-intend-to-run-haddock3-with-mpi">6. (Optional) Install MPI libraries if you intend to run HADDOCK3 with MPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html#installing-third-party-packages">Installing third-party packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#lightdock"><code class="docutils literal notranslate"><span class="pre">lightdock</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#gdock"><code class="docutils literal notranslate"><span class="pre">gdock</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="USAGE.html#run-haddock3">Run HADDOCK3</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Workflow Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-antibogy-antigen">docking-antibogy-antigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-dna">docking-protein-dna</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-homotrimer">docking-protein-homotrimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-ligand">docking-protein-ligand</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-ligand-shape">docking-protein-ligand-shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-peptide">docking-protein-peptide</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-protein">docking-protein-protein</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#refine-complex">refine-complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#scoring">scoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-multiple-ambig">docking-multiple-ambig</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Advanced features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#haddock3-functionalities">HADDOCK3 functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#tutorials-for-developers">Tutorials for developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clients/index.html">Command-line interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clients/clihd3.html">Run HADDOCK3</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicfg.html">Retrieve config</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliscore.html">Calculate score</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clipp.html">PDB preprocessing client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicp.html">Copy steps to new run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliclean.html">Clean HADDOCK3 runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliunpack.html">Unpack HADDOCK3 run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/climpi.html">HADDOCK3 MPI Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clibm.html">Benchmark Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clidmn.html">Benchmark Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clianalyse.html">Analysis client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules/index.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules/topology/index.html">Topology Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/sampling/index.html">Sampling Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/refinement/index.html">Model Refinement Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/scoring/index.html">Scoring Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/analysis/index.html">Analysis Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/extras/index.html">Extra modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#module-haddock.modules">Parent code for modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#module-haddock.modules.base_cns_module">Parent code for CNS modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#general-default-parameters">General Default parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing/index.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing/integration_tests.html">Running integration tests manually</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to HADDOCK3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-new-code">1. Contributing new code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-with-documentation">2. Contributing with documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/core/index.html">Core Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/libs/index.html">Libs Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/gear/index.html">Gear Reference</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="a-brief-introduction-to-haddock3">
<h1>A brief introduction to HADDOCK3<a class="headerlink" href="#a-brief-introduction-to-haddock3" title="Permalink to this heading">¶</a></h1>
<p>HADDOCK3 is the next generation integrative modelling software in the
long-lasting HADDOCK project. It represents a complete rethinking and rewriting
of the HADDOCK2.X series, implementing a new way to interact with HADDOCK and
offering new features to users who can now define custom workflows.</p>
<p>In the previous HADDOCK2.x versions, users had access to a highly
parameterisable yet rigid simulation pipeline composed of three steps:
<code class="docutils literal notranslate"><span class="pre">ridig-body</span> <span class="pre">docking</span> <span class="pre">(it0)</span></code>, <code class="docutils literal notranslate"><span class="pre">semi-flexible</span> <span class="pre">refinement</span> <span class="pre">(it1)</span></code>, and <code class="docutils literal notranslate"><span class="pre">final</span> <span class="pre">refinement</span> <span class="pre">(itw)</span></code>.</p>
<p><img alt="HADDOCK 2.x workflow" src="_images/HADDOCK2-stages.png" /></p>
<p>In HADDOCK3, users have the freedom to configure docking workflows into
functional pipelines by combining the different HADDOCK3 modules, thus
adapting the workflows to their projects. HADDOCK3 has therefore developed to
truthfully work like a puzzle of many pieces (simulation modules) that users can
combine freely. To this end, the “old” HADDOCK machinery has been modularised,
and several new modules added, including third-party software. As a
result, the modularisation achieved in HADDOCK3 allows users to duplicate steps
within one workflow (e.g., to repeat the <code class="docutils literal notranslate"><span class="pre">it1</span></code> stage of the HADDOCK2.x
rigid workflow).</p>
<p>Note that, for simplification purposes, at this time, not all functionalities of
HADDOCK2.x have been ported to HADDOCK3, which does not (yet) support NMR RDC,
PCS and diffusion anisotropy restraints, cryo-EM restraints and coarse-graining.
Any type of information that can be converted into ambiguous interaction
restraints can, however, be used in HADDOCK3, which also supports the
<em>ab initio</em> docking modes of HADDOCK.</p>
<p><img alt="HADDOCK3 workflow" src="_images/HADDOCK3-workflow-scheme.png" /></p>
<p>To keep HADDOCK3’s modules organised, we catalogued them into several
categories. But, there are no constraints on piping modules of different
categories.</p>
<p>The main module’s categories are “topology”, “sampling”, “refinement”,
“scoring”, and “analysis”. There is no limit to how many modules can belong to a
category. Modules are added as developed, and new categories will be created
if/when needed. You can access the HADDOCK3 documentation page for the list of
all categories and modules. Below is a summary of the available modules:</p>
<ul class="simple">
<li><p><strong>Topology modules</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">topoaa</span></code>: <em>generates the all-atom topologies for the CNS engine.</em></p></li>
</ul>
</li>
<li><p><strong>Sampling modules</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rigidbody</span></code>: <em>Rigid body energy minimisation with CNS (<code class="docutils literal notranslate"><span class="pre">it0</span></code> in haddock2.x).</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lightdock</span></code>: <em>Third-party Glow-worm Swarm Optimisation (GSO) docking software.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gdock</span></code>: <em>Third-party genetic algorithm-based docking software.</em></p></li>
</ul>
</li>
<li><p><strong>Model refinement modules</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">flexref</span></code>: <em>Semi-flexible refinement using a simulated annealing protocol through molecular dynamics simulations in torsion angle space (<code class="docutils literal notranslate"><span class="pre">it1</span></code> in haddock2.x).</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emref</span></code>: <em>Refinement by energy minimisation (<code class="docutils literal notranslate"><span class="pre">itw</span></code> EM only in haddock2.4).</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mdref</span></code>: <em>Refinement by a short molecular dynamics simulation in explicit solvent (<code class="docutils literal notranslate"><span class="pre">itw</span></code> in haddock2.X).</em></p></li>
</ul>
</li>
<li><p><strong>Scoring modules</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">emscoring</span></code>: <em>scoring of a complex performing a short EM (builds the topology and all missing atoms).</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mdscoring</span></code>: <em>scoring of a complex performing a short MD in explicit solvent + EM (builds the topology and all missing atoms).</em></p></li>
</ul>
</li>
<li><p><strong>Analysis modules</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">caprieval</span></code>: <em>Calculates CAPRI metrics (i-RMDS, l-RMSD, Fnat, DockQ) with respect to the top scoring model or reference structure if provided.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clustfcc</span></code>: <em>Clusters models based on the fraction of common contacts (FCC)</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clustrmsd</span></code>: <em>Clusters models based on pairwise RMSD matrix calculated with the <code class="docutils literal notranslate"><span class="pre">rmsdmatrix</span></code> module.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rmsdmatrix</span></code>: <em>Calculates the pairwise RMSD matrix between all the models generated in the previous step.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seletop</span></code>: <em>Selects the top N models from the previous step.</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seletopclusts</span></code>: <em>Selects top N clusters from the previous step.</em></p></li>
</ul>
</li>
</ul>
<p>The HADDOCK3 workflows are defined in simple configuration text files, similar to the TOML format but with extra features. Here is an example of a configuration file that would reproduce the HADDOCK2.x rigid workflow:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">run_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;run1-protein-protein&quot;</span>
<span class="n">ncores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span>
<span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;local&quot;</span>

<span class="c1"># molecules to be docked</span>
<span class="n">molecules</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="p">[</span>
<span class="w">    </span><span class="s">&quot;data/e2aP_1F3G.pdb&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;data/hpr_ensemble.pdb&quot;</span>
<span class="w">    </span><span class="p">]</span>

<span class="k">[topoaa]</span>

<span class="k">[rigidbody]</span>
<span class="n">ambig_fname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data/e2a-hpr_air.tbl&quot;</span>

<span class="k">[seletop]</span>

<span class="k">[flexref]</span>
<span class="n">ambig_fname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data/e2a-hpr_air.tbl&quot;</span>

<span class="k">[emref]</span>
<span class="n">ambig_fname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data/e2a-hpr_air.tbl&quot;</span>

<span class="k">[clustfcc]</span>

<span class="k">[caprieval]</span>
</pre></div>
</div>
<p>In this example only very few parameters are defined as most correspond to the default ones defined for each module. The sampling in this case would be 1000 rigidbody models and 200 for the refinement stages. Clustering is based on the fraction of common contacts and the final clusters are analysed using the best model generated as a reference (the <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module).</p>
<p>Detailed explanations on how to configure a workflow through the configuration files can be found
<a href="https://github.com/haddocking/haddock3/blob/main/docs/tutorials/user_config.rst">here</a>.</p>
<p>Having the configuration file ready, users can run HADDOCK3 with a single command-line input:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>haddock3<span class="w"> </span>config-file.cfg
</pre></div>
</div>
<p>You can find examples of HADDOCK3 workflows for the different biological
systems in the <code class="docutils literal notranslate"><span class="pre">examples</span></code> <a class="reference external" href="https://github.com/haddocking/haddock3/tree/main/examples">subfolder</a> of the HADDOCK3 folder.</p>
<p>HADDOCK3 will start running (different execution modes are available using
either local resources (threads) or in HPC mode using a batch queuing system) -
for details, see <a class="reference external" href="https://github.com/haddocking/haddock3/blob/87e7c81ab6827d331d0c00bb9fa1b1d742344ef6/src/haddock/modules/defaults.yaml#L26-L40">here</a>. See examples in the <code class="docutils literal notranslate"><span class="pre">examples</span></code> <a class="reference external" href="https://github.com/haddocking/haddock3/tree/main/examples">subfolder</a>
for configuration files ending in <code class="docutils literal notranslate"><span class="pre">-full.cfg</span></code>.</p>
<p>Finally, HADDOCK3 has several advanced features that allow users additional
flexibility in creating, restarting and extending runs, for example. Please
read about our advanced features <a class="reference external" href="https://github.com/haddocking/haddock3/tree/main/docs/tutorials">here</a>.</p>
<p>Please continue exploring our documentation pages for more information and
explanations on HADDOCK3. If you wish to go beyond that, you might wish to see
our lectures on YouTube:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=V7uwFbVDKFE">Introducing HADDOCK3: Enabling modular integrative modelling pipelines</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=5Uk1EvzCOIg">Modular code for a modular software: developing HADDOCK3</a></p></li>
</ul>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2022, BonvinLab.
        Last updated on Jul 11, 2023.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 6.2.1.
        </div>
    </div>  

</body>
</html>