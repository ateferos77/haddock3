

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; haddock3 3.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="USAGE.html" />
    <link rel="prev" title="A brief introduction to HADDOCK3" href="intro.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="index.html">
                haddock3
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>Installation</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/INSTALL.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">A brief introduction to HADDOCK3</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#clone-this-repository">1. Clone this repository:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-virtual-environment-with-python-3-9-and-install-dependencies">2 Create a virtual environment with Python 3.9+ and install dependencies:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-the-haddock3-package-and-command-line-clients">3. Install the HADDOCK3 package and command line clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-a-cns-binary-shortcut-to-the-expected-path">4. Make a CNS binary shortcut to the expected path:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keep-your-installation-up-to-date">5. Keep your installation up to date</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-install-mpi-libraries-if-you-intend-to-run-haddock3-with-mpi">6. (Optional) Install MPI libraries if you intend to run HADDOCK3 with MPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#installing-third-party-packages">Installing third-party packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lightdock"><code class="docutils literal notranslate"><span class="pre">lightdock</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#gdock"><code class="docutils literal notranslate"><span class="pre">gdock</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="USAGE.html#run-haddock3">Run HADDOCK3</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Workflow Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-antibogy-antigen">docking-antibogy-antigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-dna">docking-protein-dna</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-homotrimer">docking-protein-homotrimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-ligand">docking-protein-ligand</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-ligand-shape">docking-protein-ligand-shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-peptide">docking-protein-peptide</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-protein-protein">docking-protein-protein</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#refine-complex">refine-complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#scoring">scoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#docking-multiple-ambig">docking-multiple-ambig</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Advanced features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#haddock3-functionalities">HADDOCK3 functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#tutorials-for-developers">Tutorials for developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clients/index.html">Command-line interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clients/clihd3.html">Run HADDOCK3</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicfg.html">Retrieve config</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliscore.html">Calculate score</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clipp.html">PDB preprocessing client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicp.html">Copy steps to new run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliclean.html">Clean HADDOCK3 runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliunpack.html">Unpack HADDOCK3 run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/climpi.html">HADDOCK3 MPI Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clibm.html">Benchmark Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clidmn.html">Benchmark Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clianalyse.html">Analysis client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules/index.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules/topology/index.html">Topology Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/sampling/index.html">Sampling Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/refinement/index.html">Model Refinement Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/scoring/index.html">Scoring Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/analysis/index.html">Analysis Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/extras/index.html">Extra modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#parent-code-for-modules">Parent code for modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#parent-code-for-cns-modules">Parent code for CNS modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#general-default-parameters">General Default parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing/index.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing/integration_tests.html">Running integration tests manually</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to HADDOCK3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-new-code">1. Contributing new code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-with-documentation">2. Contributing with documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/core/index.html">Core Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/libs/index.html">Libs Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/gear/index.html">Gear Reference</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<p>Open a <code class="docutils literal notranslate"><span class="pre">terminal</span></code> window and navigate to the folder where you want to
install HADDOCK3; for example: <code class="docutils literal notranslate"><span class="pre">software</span></code>. The current installation
instructions are local and will affect only your user.</p>
<p>Before starting with the installation of HADDOCK3, make sure to properly <a class="reference internal" href="CNS.html"><span class="std std-doc">install CNS</span></a>.
If you have installed a previous version of HADDOCK, you may already have a suitable version of CNS.
Please do <a class="reference internal" href="CNS.html#5-Check-installation"><span class="std std-ref">check your CNS installation</span></a> before proceeding.</p>
<section id="clone-this-repository">
<h2>1. Clone this repository:<a class="headerlink" href="#clone-this-repository" title="Permalink to this heading">¶</a></h2>
<p>Mind the <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> flag when cloning!</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/haddocking/haddock3.git
</pre></div>
</div>
<p>Go to the <strong>haddock3</strong> directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>haddock3
</pre></div>
</div>
<p>and type the following commands to first install the <a class="reference internal" href="#"><span class="xref myst">FCC</span></a> source code provided</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>src/fcc/src
chmod<span class="w"> </span>u+x<span class="w"> </span>Makefile
make
<span class="nb">cd</span><span class="w"> </span>-
</pre></div>
</div>
<p>By the end of the above commands, you should be back to the <strong>haddock3</strong>
main folder.</p>
</section>
<section id="create-a-virtual-environment-with-python-3-9-and-install-dependencies">
<h2>2 Create a virtual environment with Python 3.9+ and install dependencies:<a class="headerlink" href="#create-a-virtual-environment-with-python-3-9-and-install-dependencies" title="Permalink to this heading">¶</a></h2>
<p>You can use Python’s <code class="docutils literal notranslate"><span class="pre">venv</span></code> or <code class="docutils literal notranslate"><span class="pre">conda</span></code> depending on your choice.
Commands are provided below:</p>
<section id="with-venv">
<h3>with <code class="docutils literal notranslate"><span class="pre">venv</span></code><a class="headerlink" href="#with-venv" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>virtualenv<span class="w"> </span>venv<span class="w"> </span>--python<span class="o">=</span><span class="m">3</span>.9
<span class="nb">source</span><span class="w"> </span>venv/bin/activate
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
<section id="with-conda">
<h3>with <code class="docutils literal notranslate"><span class="pre">conda</span></code><a class="headerlink" href="#with-conda" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>haddock3<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9
conda<span class="w"> </span>activate<span class="w"> </span>haddock3
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
</section>
<section id="install-the-haddock3-package-and-command-line-clients">
<h2>3. Install the HADDOCK3 package and command line clients<a class="headerlink" href="#install-the-haddock3-package-and-command-line-clients" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>setup.py<span class="w"> </span>develop<span class="w"> </span>--no-deps
</pre></div>
</div>
<p>Of note, here we are still using the depreacted <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> command due to HPC, GRID and LOCAL compabilities with CNS.</p>
</section>
<section id="make-a-cns-binary-shortcut-to-the-expected-path">
<h2>4. Make a CNS binary shortcut to the expected path:<a class="headerlink" href="#make-a-cns-binary-shortcut-to-the-expected-path" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>bin/

<span class="c1"># on mac</span>
ln<span class="w"> </span>-s<span class="w"> </span>/PATH/TO/cns_solve_1.3/mac-intel-darwin/source/cns_solve-2206031450.exe<span class="w"> </span>bin/cns

<span class="c1"># on linux</span>
ln<span class="w"> </span>-s<span class="w"> </span>/PATH/TO/cns_solve_1.3/intel-x86_64bit-linux/source/cns_solve-2002171359.exe<span class="w"> </span>bin/cns
</pre></div>
</div>
<p>As long as you have the <code class="docutils literal notranslate"><span class="pre">(haddock3)</span></code> python environment activated, you can
navigate away from the <strong>haddock3</strong> installation folder. You can run
HADDOCK3 from anywhere. To run HADDOCK3, follow the <a class="reference internal" href="USAGE.html"><span class="std std-doc">usage
guidelines</span></a>.</p>
</section>
<section id="keep-your-installation-up-to-date">
<h2>5. Keep your installation up to date<a class="headerlink" href="#keep-your-installation-up-to-date" title="Permalink to this heading">¶</a></h2>
<p>Navigate to the <strong>haddock3</strong> installation folder (the one you cloned from
GitHub). Ensure you have the <code class="docutils literal notranslate"><span class="pre">(haddock3)</span></code> python environment activated.
Please keep in mind that HADDOCK3, as well as its
dependencies, are under active development.
If the updating processing fails, it is safest to reinstall
from scratch. Always refer to the latest installation guidelines.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you used `venv`</span>
<span class="nb">source</span><span class="w"> </span>venv/bin/activate

<span class="c1"># if you used `conda`</span>
conda<span class="w"> </span>activate<span class="w"> </span>haddock3
</pre></div>
</div>
<p>Afterwards:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># pull the latest source code from our repository to your computer</span>
git<span class="w"> </span>pull

<span class="c1"># update the dependencies by running:</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt<span class="w">  </span>--upgrade

<span class="c1"># ensure all command-lines clients are installed</span>
python<span class="w"> </span>setup.py<span class="w"> </span>develop<span class="w"> </span>--no-deps
</pre></div>
</div>
<p>Of note, here we are still using the depreacted <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> command due to HPC, GRID and LOCAL compabilities with CNS.</p>
</section>
<section id="optional-install-mpi-libraries-if-you-intend-to-run-haddock3-with-mpi">
<h2>6. (Optional) Install MPI libraries if you intend to run HADDOCK3 with MPI<a class="headerlink" href="#optional-install-mpi-libraries-if-you-intend-to-run-haddock3-with-mpi" title="Permalink to this heading">¶</a></h2>
<p>To use the mpi implementation of haddock3 you must have mpi4py installed in the <code class="docutils literal notranslate"><span class="pre">(haddock3)</span></code> python environment, and OpenMPI in the host system.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>mpi4py
<span class="c1"># or</span>
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>mpi4py
</pre></div>
</div>
<p>Later, you can find <a class="reference external" href="https://www.bonvinlab.org/haddock3/tutorials/mpi.html">here</a> instructions on how to run HADDOCK3 with MPI.</p>
</section>
</section>
<section id="installing-third-party-packages">
<h1>Installing third-party packages<a class="headerlink" href="#installing-third-party-packages" title="Permalink to this heading">¶</a></h1>
<p>HADDOCK3 can integrate third-party software in its workflows.
We are not responsible for the proper installation of such packages, but
we help you install them. Below, you will find a list of all third-party
packages HADDOCK3 can use and guidelines for their proper installation.</p>
<section id="lightdock">
<h2><code class="docutils literal notranslate"><span class="pre">lightdock</span></code><a class="headerlink" href="#lightdock" title="Permalink to this heading">¶</a></h2>
<p>To install <a class="reference external" href="https://github.com/lightdock/lightdock">lightdock</a> follow
the instructions on the project’s website. Remember to install it under
the same Python environment you created for HADDOCK3. If you have any
doubts, please let us know.</p>
</section>
<section id="gdock">
<h2><code class="docutils literal notranslate"><span class="pre">gdock</span></code><a class="headerlink" href="#gdock" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Clone the latest version:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">some</span><span class="o">-</span><span class="n">folder</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rvhonorato</span><span class="o">/</span><span class="n">gdock</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Install Python3+ dependencies</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">deap</span> <span class="n">scipy</span> <span class="n">mgzip</span> <span class="n">biopython</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">GDOCK_PATH</span></code></p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GDOCK_PATH</span><span class="o">=</span><span class="n">some</span><span class="o">-</span><span class="n">folder</span>
</pre></div>
</div>
<p><strong>Important</strong>: These are not the full <code class="docutils literal notranslate"><span class="pre">gdock</span></code> installation
instructions as only the model generation is used here. Please check the
<a class="reference external" href="https://github.com/rvhonorato/gdock">repository page</a> for more
information.</p>
</section>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2022, BonvinLab.
        Last updated on Nov 23, 2023.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 6.2.1.
        </div>
    </div>  

</body>
</html>