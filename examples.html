

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflow Examples &mdash; haddock3 3.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced features" href="tutorials/index.html" />
    <link rel="prev" title="Usage" href="USAGE.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="index.html">
                haddock3
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>Workflow Examples</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/examples.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">A brief introduction to HADDOCK3</a></li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#clone-this-repository">1. Clone this repository:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#create-a-virtual-environment-with-python-3-9-and-install-dependencies">2 Create a virtual environment with Python 3.9+ and install dependencies:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#install-the-haddock3-package-and-command-line-clients">3. Install the HADDOCK3 package and command line clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#make-a-cns-binary-shortcut-to-the-expected-path">4. Make a CNS binary shortcut to the expected path:</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#keep-your-installation-up-to-date">5. Keep your installation up to date</a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#optional-install-mpi-libraries-if-you-intend-to-run-haddock3-with-mpi">6. (Optional) Install MPI libraries if you intend to run HADDOCK3 with MPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html#installing-third-party-packages">Installing third-party packages</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#lightdock"><code class="docutils literal notranslate"><span class="pre">lightdock</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="INSTALL.html#gdock"><code class="docutils literal notranslate"><span class="pre">gdock</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="USAGE.html#run-haddock3">Run HADDOCK3</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Workflow Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#docking-antibogy-antigen">docking-antibogy-antigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-dna">docking-protein-dna</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-homotrimer">docking-protein-homotrimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-ligand">docking-protein-ligand</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-ligand-shape">docking-protein-ligand-shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-peptide">docking-protein-peptide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-protein-protein">docking-protein-protein</a></li>
<li class="toctree-l2"><a class="reference internal" href="#refine-complex">refine-complex</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scoring">scoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docking-multiple-ambig">docking-multiple-ambig</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Advanced features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#haddock3-functionalities">HADDOCK3 functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/index.html#tutorials-for-developers">Tutorials for developers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="clients/index.html">Command-line interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="clients/clihd3.html">Run HADDOCK3</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicfg.html">Retrieve config</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliscore.html">Calculate score</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clipp.html">PDB preprocessing client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clicp.html">Copy steps to new run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliclean.html">Clean HADDOCK3 runs</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/cliunpack.html">Unpack HADDOCK3 run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/climpi.html">HADDOCK3 MPI Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clibm.html">Benchmark Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clidmn.html">Benchmark Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="clients/clianalyse.html">Analysis client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules/index.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules/topology/index.html">Topology Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/sampling/index.html">Sampling Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/refinement/index.html">Model Refinement Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/scoring/index.html">Scoring Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/analysis/index.html">Analysis Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/extras/index.html">Extra modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#parent-code-for-modules">Parent code for modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#parent-code-for-cns-modules">Parent code for CNS modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules/index.html#general-default-parameters">General Default parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing/index.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing/integration_tests.html">Running integration tests manually</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to HADDOCK3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-new-code">1. Contributing new code</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-with-documentation">2. Contributing with documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/core/index.html">Core Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/libs/index.html">Libs Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/gear/index.html">Gear Reference</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="workflow-examples">
<h1>Workflow Examples<a class="headerlink" href="#workflow-examples" title="Permalink to this heading">¶</a></h1>
<p>The HADDOCK3 <code class="docutils literal notranslate"><span class="pre">examples/</span></code> directory contains various subdirectories and config files
corresponding to different types of complexes, scenarios and data.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#docking-antibogy-antigen">docking-antibody-antigen</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-dna">docking-protein-DNA</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-homotrimer">docking-protein-homotrimer</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-ligand">docking-protein-ligand</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-ligand-shape">docking-protein-ligand-shape</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-peptide">docking-protein-peptide</a></p></li>
<li><p><a class="reference internal" href="#docking-protein-protein">docking-protein-protein</a></p></li>
<li><p><a class="reference internal" href="#refine-complex">refine-complex</a></p></li>
<li><p><a class="reference internal" href="#scoring">scoring</a></p></li>
<li><p><a class="reference internal" href="#docking-multiple-ambig">docking-multiple-ambig</a></p></li>
</ol>
<p>Each directory contains both:</p>
<ul class="simple">
<li><p><strong>test</strong> runs config files (to test the various workflows, make sure the installation works and any changes to the code/scripts have not broken the machinery). Those are set up to run locally.</p></li>
<li><p><strong>full</strong> runs config files with recommended parameter settings. Those runs are set up to be executed in “batch” mode using slurm (the <code class="docutils literal notranslate"><span class="pre">...full.cfg</span></code>) files. Examples making use of MPI are also provided in some cases, together with an associated job file that should be submitted to the slurm batch system (<code class="docutils literal notranslate"><span class="pre">...full-mpi.cfg</span></code> and <code class="docutils literal notranslate"><span class="pre">...full-mpi.job</span></code>). Make sure to adapt the full config files to your own system.</p></li>
</ul>
<p>The following examples are currently provided:</p>
<section id="docking-antibogy-antigen">
<h2>docking-antibogy-antigen<a class="headerlink" href="#docking-antibogy-antigen" title="Permalink to this heading">¶</a></h2>
<p>An antibody-antigen docking example making use only of the knowledge of the hypervariables (HV) loops on the antibody to guide the docking. This is the same complex used in our <a class="reference external" href="https://www.bonvinlab.org/education/HADDOCK24/HADDOCK24-antibody-antigen/">HADDOCK2.4 webserver tutorial</a>; refer to it for more details. Three different ways of using the knowledge of the HV loop residues are illustrated:</p>
<ul class="simple">
<li><p><strong>CDR-accessible</strong>: using ambiguous distance restraints (AIRs) between the HV loop residues and the solvent-accessible residues of the antigen. Those are defined in the <code class="docutils literal notranslate"><span class="pre">ambig.tbl</span></code> file provided in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory</p></li>
<li><p><strong>ranairCDR</strong>: using random AIRs sampled from the HV loops on the antibody and the solvent-accessible residues on the antigen. The random AIRs are used during the rigidbody docking sampling phase and replaced by contact AIRs during refinement.</p></li>
<li><p><strong>CDR-NMR-CSP</strong>: using ambiguous distance restraints (AIRs) between the HV loop residues and the epitope residues identified by NMR.</p></li>
</ul>
<p>Since antibodies consist of two separate chains, a few additional unambiguous restraints are defined between the antibody chains to keep them together during the flexible refinement stage. Those are defined in the <code class="docutils literal notranslate"><span class="pre">unambig.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory.</p>
<p>Three different protocols/workflows are illustrated:</p>
<ol class="arabic simple">
<li><p>10000 rigidbody docking models, selection of top500 and flexible refinement + EM of those (<code class="docutils literal notranslate"><span class="pre">docking-antibody-antigen-CDR-accessible-full.cfg</span></code> and <code class="docutils literal notranslate"><span class="pre">docking-antibody-antigen-ranairCDR-full.cfg</span></code>)</p></li>
<li><p>10000 rigidbody docking models, FCC clustering and selection of max 20 models per cluster followed by flexible refinement and EM (<code class="docutils literal notranslate"><span class="pre">docking-antibody-antigen-CDR-accessible-clt-full.cfg</span></code> and <code class="docutils literal notranslate"><span class="pre">docking-antibody-antigen-ranairCDR-clt-full.cfg</span></code>).</p></li>
<li><p>1000 rigidbody docking models, selection of top200 and flexible refinement + EM of those (default sampling in the case in which the epitope has been determined by NMR: <code class="docutils literal notranslate"><span class="pre">docking-antibody-antigen-CDR-NMR-CSP-full.cfg</span></code></p></li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="docking-protein-dna">
<h2>docking-protein-dna<a class="headerlink" href="#docking-protein-dna" title="Permalink to this heading">¶</a></h2>
<p>A protein-DNA docking example making use of rather specific protein-DNA distance restraints defined in the <code class="docutils literal notranslate"><span class="pre">ambig.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory.</p>
<p>Three different protocols/workflows are illustrated:</p>
<ol class="arabic simple">
<li><p>1000 rigidbody docking models, selection of top200 and flexible refinement + EM of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-DNA-full.cfg</span></code>)</p></li>
<li><p>1000 rigidbody docking models, selection of top200 and flexible refinement + final refinement in explict solvent (water) of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-DNA-mdref-full.cfg</span></code>)</p></li>
<li><p>1000 rigidbody docking models, FCC clustering and selection of max 20 models per cluster followed by flexible refinement and EM (<code class="docutils literal notranslate"><span class="pre">docking-protein-DNA-cltsel-full.cfg</span></code>).</p></li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
<p><strong>Note</strong> the modified electrostatic treatment for DNA (<code class="docutils literal notranslate"><span class="pre">cdie</span></code> and <code class="docutils literal notranslate"><span class="pre">epsilon=78</span></code>) and the automatic definition of DNA restraints to maintain the double helix (<code class="docutils literal notranslate"><span class="pre">dnarest_on=true</span></code>).</p>
</section>
<section id="docking-protein-homotrimer">
<h2>docking-protein-homotrimer<a class="headerlink" href="#docking-protein-homotrimer" title="Permalink to this heading">¶</a></h2>
<p>A protein homotrimer with C3 symmetry docking example making use of bioinformatics interface predictions from our <a class="reference external" href="https://wenmr.science.uu.nl/whiscy/">Whiscy webserver</a> defined in the <code class="docutils literal notranslate"><span class="pre">1qu9_whiscy_air.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory. Note that this is a bound docking example since the protein monomers used for docking are taken from the crystal structure of the homotrimer. The workflow does however perform a flexible refinement of the models, which might lead to deviations from the bound conformation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docking-protein-homotrimer-full.cfg</span></code> workflow consists of the generation of 2000 rigidbody docking models, selection of top200 and flexible refinement + EM of those. C3 and non-crystallographic (NCS) symmetry restraints are defined to guide the docking.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="docking-protein-ligand">
<h2>docking-protein-ligand<a class="headerlink" href="#docking-protein-ligand" title="Permalink to this heading">¶</a></h2>
<p>A protein-ligand docking example making use of the knowledge of the binding site on the protein to guide the docking.</p>
<p>As explained in our <a class="reference external" href="https://www.bonvinlab.org/education/HADDOCK24/HADDOCK24-binding-sites/">protein-ligand HADDOCK2.4 tutorial</a>, in the rigidbody docking phase all residues of the binding site are defined as active to draw the ligand into it (the corresponding AIRs are defined in the <code class="docutils literal notranslate"><span class="pre">ambig-active-rigidbody.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory). For the flexible refinement only the ligand is defined as active and the binding site as passive to allow the ligand to explore the binding site (the corresponding AIRs are defined in the <code class="docutils literal notranslate"><span class="pre">ambig-passive.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docking-protein-ligand-full.cfg</span></code> workflow consists of the generation of 1000 rigidbody docking models, selection of top200 and flexible refinement of those.</p>
<p><strong>Note</strong> the modified weight of the van der Waals energy term for the scoring of the rigidbody docking models (<code class="docutils literal notranslate"><span class="pre">w_vdw</span> <span class="pre">=</span> <span class="pre">1.0</span></code>) and the skipping of the high temperature first two stages of the simulated annealing protocol during the flexible refinement (<code class="docutils literal notranslate"><span class="pre">mdsteps_rigid</span> <span class="pre">=</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">mdsteps_cool1</span> <span class="pre">=</span> <span class="pre">0</span></code>). Parameter and topology files must be provided for the ligand (<code class="docutils literal notranslate"><span class="pre">ligand_param_fname</span> <span class="pre">=</span> <span class="pre">&quot;data/ligand.param&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">ligand_top_fname</span> <span class="pre">=</span> <span class="pre">&quot;data/ligand.top&quot;</span></code>). Those were obtained with a local version of PRODRG (<a class="reference external" href="http://scripts.iucr.org/cgi-bin/paper?S0907444904011679">Schüttelkopf and van Aalten Acta Crystallogr. D 60, 1355−1363 (2004)</a>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="docking-protein-ligand-shape">
<h2>docking-protein-ligand-shape<a class="headerlink" href="#docking-protein-ligand-shape" title="Permalink to this heading">¶</a></h2>
<p>A protein-ligand docking example making use of the knowledge of a template ligand (a ligand similar to the ligand we want to dock and bind to the same receptor). The template ligand information is used in the form of shape consisting of dummy beads and positioned within the binding site to which distance restraints are defined. More details about the method and the performance of the protocol when benchmarked on a fully unbound dataset
can be seen in our freely available <a class="reference external" href="https://pubs.acs.org/doi/full/10.1021/acs.jcim.1c00796">paper on JCIM</a>.</p>
<p>As explained in our <a class="reference external" href="https://www.bonvinlab.org/education/HADDOCK24/shape-small-molecule/">shape small molecule HADDOCK2.4 tutorial</a>, during the docking and refinement the protein and the shape are kept in their original positions (see the <code class="docutils literal notranslate"><span class="pre">mol_fix_origin_X</span></code> parameters in the config file) and ambiguous distance restraints between the ligand and the shape beads are defined. (The corresponding AIRs are defined in the <code class="docutils literal notranslate"><span class="pre">shape-restraints-from-shape-1.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory). This is effectively a three body docking. For the ligand an ensemble of 10 different conformations is provided as starting point for the docking (<code class="docutils literal notranslate"><span class="pre">ligand-ensemble.pdb</span></code> in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory). Please refer to our <a class="reference external" href="https://www.bonvinlab.org/education/HADDOCK24/shape-small-molecule/">shape small molecule tutorial</a> for information on how to generate such an ensemble.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docking-protein-ligand-shape-full.cfg</span></code> workflow consists of the generation of 1000 rigidbody docking models with the protein and shape kept in their origin position, selection of top200 and flexible refinement of those.</p>
<p><strong>Note</strong> the modified weight of the van der Waals energy term for the scoring of the rigidbody docking models (<code class="docutils literal notranslate"><span class="pre">w_vdw</span> <span class="pre">=</span> <span class="pre">1.0</span></code>). To allow the ligand to penetrate better into the binding site the intermolecular energy components are scaled down during the rigidbody docking phase (<code class="docutils literal notranslate"><span class="pre">inter_rigid</span> <span class="pre">=</span> <span class="pre">0.001</span></code>). As for the protein-ligand example, parameter and topology files must be provided for the ligand (<code class="docutils literal notranslate"><span class="pre">ligand_param_fname</span> <span class="pre">=</span> <span class="pre">&quot;data/ligand.param&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">ligand_top_fname</span> <span class="pre">=</span> <span class="pre">&quot;data/ligand.top&quot;</span></code>). Those were obtained with a local version of PRODRG (<a class="reference external" href="http://scripts.iucr.org/cgi-bin/paper?S0907444904011679">Schüttelkopf and van Aalten Acta Crystallogr. D 60, 1355−1363 (2004)</a>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="docking-protein-peptide">
<h2>docking-protein-peptide<a class="headerlink" href="#docking-protein-peptide" title="Permalink to this heading">¶</a></h2>
<p>The protein-peptide docking example makes use of the knowledge of the binding site on the protein to guide the docking. The active site residues are defined as active and the peptide as passive (the corresponding AIRs are defined in the <code class="docutils literal notranslate"><span class="pre">ambig.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory). This example follows the protocol described in our protein-peptide docking article (<a class="reference external" href="https://dx.plos.org/10.1371/journal.pone.0058769">Trellet et. al. PLoS ONE 8, e58769 (2013)</a>). For the peptide, an ensemble of three conformations (alpha-helix, polyproline-II and extended) is provided as starting point for the docking. Those were built using PyMol (instructions on how to do that can be found <a class="reference external" href="https://www.bonvinlab.org/education/molmod_online/simulation/#preparing-the-system">here</a>).</p>
<p>Three different workflows are illustrated:</p>
<ol class="arabic simple">
<li><p>3000 rigidbody docking models, selection of top400 and flexible refinement + EM of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-peptide-full.cfg</span></code>)</p></li>
<li><p>3000 rigidbody docking models, selection of top400 and flexible refinement + final refinement in explicit solvent (water) of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-peptide-mdref-full.cfg</span></code>)</p></li>
<li><p>3000 rigidbody docking models, FCC clustering and selection of max 20 models per cluster followed by flexible refinement and EM (<code class="docutils literal notranslate"><span class="pre">docking-protein-peptide-cltsel-full.cfg</span></code>).</p></li>
</ol>
<p><strong>Note</strong> how the peptide is defined as fully flexible for the refinement phase (<code class="docutils literal notranslate"><span class="pre">nfle2</span> <span class="pre">=</span> <span class="pre">1</span></code> and associated parameters) and dihedral angle restraints are automatically defined to maintain secondary structure elements (<code class="docutils literal notranslate"><span class="pre">ssdihed</span> <span class="pre">=</span> <span class="pre">&quot;alphabeta&quot;</span></code>)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="docking-protein-protein">
<h2>docking-protein-protein<a class="headerlink" href="#docking-protein-protein" title="Permalink to this heading">¶</a></h2>
<p>The protein-protein docking example makes use of the NMR chemical shift perturbation data providing information on the residues of binding site to guide the docking. The NMR-identified residues are defined as active with their surface neighbors as passive (the corresponding AIRs are defined in the <code class="docutils literal notranslate"><span class="pre">e2a-hpr_air.tbl</span></code> file in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory). This system is the same as described in our <a class="reference external" href="https://www.bonvinlab.org/education/HADDOCK24/HADDOCK24-protein-protein-basic/">HADDOCK2.4 basic protein-protein docking tutorial</a>. For the second molecule (HPR), an ensemble of 10 conformations (taken from the NMR solution structure of this protein) is used as starting point for the docking. Refer to above tutorial for more details about the system and restraints.</p>
<p>Three different workflows are illustrated:</p>
<ol class="arabic simple">
<li><p>1000 rigidbody docking models, selection of top200 and flexible refinement + EM of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-protein-full.cfg</span></code>)</p></li>
<li><p>1000 rigidbody docking models, selection of top200 and flexible refinement + final refinement in explicit solvent (water) of those (<code class="docutils literal notranslate"><span class="pre">docking-protein-protein-mdref-full.cfg</span></code>)</p></li>
<li><p>1000 rigidbody docking models, FCC clustering and selection of max 20 models per cluster followed by flexible refinement and EM (<code class="docutils literal notranslate"><span class="pre">docking-protein-protein-cltsel-full.cfg</span></code>).</p></li>
</ol>
<p>In this example all parameters are left to their default settings, except for manually defining the histidines protonation states.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="refine-complex">
<h2>refine-complex<a class="headerlink" href="#refine-complex" title="Permalink to this heading">¶</a></h2>
<p>This example illustrates the refinement of a complex. In that case the molecules are kept in their original positions and the complex is subjected to a short flexible refinement in explicit solvent with the <code class="docutils literal notranslate"><span class="pre">mdref</span></code> module. The same complex as for the <code class="docutils literal notranslate"><span class="pre">docking-protein-protein</span></code> example is used. The molecules are defined separately in the config file (and could consist each of an ensemble, provided the two ensembles have exactly the same number of models).</p>
<p>In this example all parameters are left to their default settings, except for manually defining the histidines’ protonation states and setting the <code class="docutils literal notranslate"><span class="pre">sampling_factor</span></code> to 10, which means that from each starting complex 10 models will be generated with different random seeds for initiating the molecular dynamics phase.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at the end to assess the quality of the models with respect to the known reference structure.</p>
</section>
<section id="scoring">
<h2>scoring<a class="headerlink" href="#scoring" title="Permalink to this heading">¶</a></h2>
<p>This example illustrates the use of HADDOCK3 for scoring purposes. In contrast to HADDOCK2.4, HADDOCK3 can score a heterogenous set of complexes within one run/workflow. In this example, four different types of complexes are scored within the same workflow:</p>
<ul class="simple">
<li><p>an ensemble of 5 models taken from CAPRI Target161</p></li>
<li><p>a protein-DNA complex (model taken from our protein-DNA docking example)</p></li>
<li><p>two models of a protein-protein complex (taken from our protein-protein docking example)</p></li>
<li><p>a homotrimer model (taken from our protein-homotrimer docking examples)</p></li>
</ul>
<p>Two scoring workflows are illustrated:</p>
<ol class="arabic simple">
<li><p>Only a short energy minimisation is performed on each model (<code class="docutils literal notranslate"><span class="pre">emscoring-test.cfg</span></code>).</p></li>
<li><p>A short molecular dynamics simulation in explicit solvent (water) is performed on each model. In that case contact AIRs (<code class="docutils literal notranslate"><span class="pre">contactairs</span> <span class="pre">=</span> <span class="pre">true</span></code>), dihedral angle restraints on secondary structure element (<code class="docutils literal notranslate"><span class="pre">ssdihed</span> <span class="pre">=</span> <span class="pre">alphabeta</span></code>) and DNA restraints (<code class="docutils literal notranslate"><span class="pre">dnarest_on</span> <span class="pre">=</span> <span class="pre">true</span></code>) are automatically defined (<code class="docutils literal notranslate"><span class="pre">mdscoring-test.cfg</span></code>).</p></li>
</ol>
<p>The model listings with their associated HADDOCK scores can be found in a <code class="docutils literal notranslate"><span class="pre">.tsv</span></code> file in the stage 01 directory of the respective runs.</p>
</section>
<section id="docking-multiple-ambig">
<h2>docking-multiple-ambig<a class="headerlink" href="#docking-multiple-ambig" title="Permalink to this heading">¶</a></h2>
<p>This example shows how to use HADDOCK3 when several restraint files are available. The example is built upon the results obtained running <a class="reference external" href="https://github.com/haddocking/arctic3d">arctic3d</a> on two proteins forming the complex <code class="docutils literal notranslate"><span class="pre">2GAF</span></code>. The presence of multiple interfaces in both structures allows to define several <code class="docutils literal notranslate"><span class="pre">.tbl</span></code> ambiguous restraint files to be used in the calculations. At first, these files must be compressed in a <code class="docutils literal notranslate"><span class="pre">.tbl.tgz</span></code> archive. During the workflow, the HADDOCK3 machinery unzips the archive and evenly assigns each <code class="docutils literal notranslate"><span class="pre">.tbl</span></code> file to a number of models to be generated. Even if only one sixth of the restraint files contain reasonable information on the interface, HADDOCK3 is still able to retrieve good docking models in the best-scoring positions.</p>
<p><strong>Note</strong> how the information about restraint files is propagated during the workflow (<code class="docutils literal notranslate"><span class="pre">previous_ambig</span> <span class="pre">=</span> <span class="pre">true</span></code> for <code class="docutils literal notranslate"><span class="pre">flexref</span></code> and <code class="docutils literal notranslate"><span class="pre">emref</span></code> modules), so that each model is always refined with its corresponding <code class="docutils literal notranslate"><span class="pre">.tbl</span></code> file.</p>
<p>Importantly, in the <code class="docutils literal notranslate"><span class="pre">docking-multiple-tbls-clt-full.cfg</span></code> example the clustering is performed right after the <code class="docutils literal notranslate"><span class="pre">rigidbody</span></code> module, so as to lump together solutions resulting from the application of different sets of restraints.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">caprieval</span></code> module is called at various stages during the workflow to assess the quality of the models with respect to the known reference structure.</p>
</section>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0.0',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2022, BonvinLab.
        Last updated on Feb 22, 2024.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 6.2.1.
        </div>
    </div>  

</body>
</html>